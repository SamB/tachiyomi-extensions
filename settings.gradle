new File(rootDir, "src").eachDir { dir ->
    dir.eachDir { subDir ->
        File buildGradle = new File(subDir, 'build.gradle')
        if (!buildGradle.exists()) {
            logger.warn("File not found: ${rootDir.relativePath(buildGradle)} -- Not including project.")
            return
        }
        String name = ":${dir.name}-${subDir.name}"
        include name
        project(name).projectDir = new File("src/${dir.name}/${subDir.name}")
    }
}

include ':lib-ratelimit'
project(':lib-ratelimit').projectDir = new File("lib/ratelimit")

include ':duktape-stub'
project(':duktape-stub').projectDir = new File("lib/duktape-stub")

include ':preference-stub'
project(':preference-stub').projectDir = new File("lib/preference-stub")
